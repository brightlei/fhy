<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>upload模块快速使用</title>
  <link rel="stylesheet" href="layui/css/layui.css" media="all">
</head>
<body>

<button type="button" class="layui-btn" id="test1">
  <i class="layui-icon">&#xe67c;</i>上传文件
</button>

<script src="layui/layui.js"></script>
<script>
	layui.use('upload', function() {
		var upload = layui.upload;
		//执行实例
		var uploadInst = upload.render({
			elem : '#test1' //绑定元素
			,url : 'service/api?action=importfhy' //上传服务接口
			,accept : 'file'
			,ext:'xls|XLS',
			data : {
		            lon : 132.4678,
		            lat : 32.4678,
		            projectid : "gvwbtoeibgurw",
		            planid : "fhqewirfgwe"
		    },
			done : function(result) {//上传完毕回调 200
				var code = result.code;
				if(code==0){
					alert("文件上传成功");
				}else{
					alert("文件上传失败！"+result.msg);
				}
			},
			error : function() {//请求异常回调
				alert("文件上传异常！");
			}
		});
	});
</script>
</body>
</html>